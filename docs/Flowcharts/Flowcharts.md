# Flowcharts - Sơ Đồ Luồng Hệ Thống

## 1. Flowchart Tổng Quan Hệ Thống

```
┌─────────────────┐
│   KHỞI ĐỘNG    │
│   CHƯƠNG TRÌNH  │
└────────┬────────┘
         ▼
┌─────────────────┐
│  Load dữ liệu   │
│   từ file       │
└────────┬────────┘
         ▼
┌─────────────────┐
│   MENU ĐĂNG     │
│   NHẬP/ĐĂNG KÝ  │
└────────┬────────┘
         ▼
    ◇────────────◇
   / Đăng nhập   \
  /   thành công? \
  ────────┬────────
     Yes  │   No
          ▼    ▼
┌──────────┐  (Thử lại hoặc đăng ký)
│MENU CHÍNH│
└────┬─────┘
     ▼
┌─────────────────┐
│  Chọn chức năng │
│   (1-14)        │
└────────┬────────┘
     ▼
┌─────────────────┐
│   Xử lý và      │
│   hiển thị      │
└────────┬────────┘
     ▼
    ◇────────────◇
   /   Thoát?     \
  /    (option 0)  \
  ────────┬────────
     No   │   Yes
     ▼         ▼
  (Quay lại) ┌─────────────┐
             │ Lưu dữ liệu │
             │   xuống file │
             └──────┬──────┘
                    ▼
             ┌─────────────┐
             │  KẾT THÚC   │
             └─────────────┘
```

---

## 2. Flowchart Đăng Nhập

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập username   │
│ và password     │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Tìm user trong  │
│ danh sách       │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Tìm thấy user? \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐  ◇────────────◇
│Báo lỗi │ /  Tài khoản   \
│sai user│/   bị khóa?     \
└───┬────┘────────┬────────
    │        No   │   Yes
    ▼         ▼         ▼
(Quay lại) ┌─────────┐ ┌────────┐
           │Verify   │ │Báo lỗi │
           │password │ │TK khóa │
           └────┬────┘ └───┬────┘
                ▼          │
           ◇────────◇      ▼
          / Đúng?   \   (Quay lại)
          ─────┬─────
          Yes  │  No
               ▼    ▼
         ┌─────────┐ ┌─────────────┐
         │Reset    │ │loginAttempts│
         │attempts │ │    += 1     │
         │= 0      │ └──────┬──────┘
         └────┬────┘        ▼
              │        ◇────────◇
              ▼       / >= 5?   \
         ┌─────────┐  ─────┬─────
         │ ĐĂNG    │  Yes  │  No
         │ NHẬP    │   ▼        ▼
         │ THÀNH   │ ┌──────┐ ┌──────┐
         │ CÔNG    │ │Khóa  │ │Báo   │
         └─────────┘ │TK    │ │lỗi   │
                     └──────┘ └──────┘
```

---

## 3. Flowchart Đăng Ký Tài Khoản

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập username,  │
│ email, password │
└────────┬────────┘
       ▼
  ◇──────────────────◇
 / Username hợp lệ?   \
/ (chữ, số, gạch dưới)\
 ────────┬────────────
    No   │   Yes
    ▼         ▼
┌────────┐  ◇────────────────◇
│Báo lỗi │ / Username đã tồn  \
│format  │/  tại?              \
└───┬────┘────────┬────────────
    │        Yes  │   No
    ▼         ▼         ▼
(Quay lại) ┌────────┐ ◇────────────◇
           │Báo lỗi │/ Email đã     \
           │trùng   │\ tồn tại?      /
           └───┬────┘ ────────┬─────
               │         Yes  │  No
               ▼          ▼        ▼
           (Quay lại) ┌────────┐ ◇──────────◇
                      │Báo lỗi │/ Password   \
                      │trùng   │\ đủ mạnh?   /
                      └───┬────┘ ────┬──────
                          │     No   │  Yes
                          ▼      ▼        ▼
                      (Quay lại)┌────┐ ┌───────────┐
                                │Báo │ │Tạo salt,  │
                                │lỗi │ │hash pass  │
                                └────┘ └─────┬─────┘
                                             ▼
                                       ┌───────────┐
                                       │ Thêm vào  │
                                       │ danh sách │
                                       └─────┬─────┘
                                             ▼
                                       ┌───────────┐
                                       │ ĐĂNG KÝ   │
                                       │ THÀNH CÔNG│
                                       └───────────┘
```

---

## 4. Flowchart CRUD (Thêm/Sửa/Xóa/Tìm)

### 4.1 Thêm mới (Add)

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập thông tin  │
│ đối tượng mới   │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Dữ liệu hợp lệ?\
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────┐
│Báo lỗi │ │ Thêm vào    │
│        │ │ ArrayList   │
└───┬────┘ └──────┬──────┘
    │             ▼
    ▼       ┌─────────────┐
(Quay lại)  │ THÊM THÀNH  │
            │ CÔNG        │
            └─────────────┘
```

### 4.2 Sửa (Update)

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│  Nhập ID cần    │
│  sửa            │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Tìm thấy ID?   \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────────┐ ┌─────────────┐
│Báo không   │ │ Nhập thông  │
│tìm thấy    │ │ tin mới     │
└──────┬─────┘ └──────┬──────┘
       │              ▼
       ▼        ┌─────────────┐
   (Quay lại)   │ Cập nhật    │
                │ đối tượng   │
                └──────┬──────┘
                       ▼
                ┌─────────────┐
                │ SỬA THÀNH   │
                │ CÔNG        │
                └─────────────┘
```

### 4.3 Xóa (Delete)

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│  Nhập ID cần    │
│  xóa            │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Tìm thấy ID?   \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────────┐ ┌─────────────┐
│Báo không   │ │ Xóa khỏi    │
│tìm thấy    │ │ ArrayList   │
└──────┬─────┘ └──────┬──────┘
       │              ▼
       ▼        ┌─────────────┐
   (Quay lại)   │ XÓA THÀNH   │
                │ CÔNG        │
                └─────────────┘
```

---

## 5. Flowchart Đổi Mật Khẩu

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập mật khẩu   │
│ cũ              │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Mật khẩu cũ    \
/  đúng?           \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────────┐
│Báo lỗi │ │ Nhập mật khẩu   │
│sai MK  │ │ mới             │
└───┬────┘ └────────┬────────┘
    │               ▼
    ▼         ◇──────────────◇
(Quay lại)   / MK mới đủ mạnh?\
             ────────┬────────
                No   │   Yes
                ▼         ▼
           ┌────────┐ ◇──────────────◇
           │Báo lỗi │/ Trùng MK cũ   \
           │yếu     │\ hoặc history? /
           └───┬────┘ ────────┬─────
               │         Yes  │  No
               ▼          ▼        ▼
           (Quay lại) ┌────────┐ ┌───────────┐
                      │Báo lỗi │ │Hash MK mới│
                      │trùng   │ │Lưu history│
                      └───┬────┘ └─────┬─────┘
                          │            ▼
                          ▼      ┌───────────┐
                      (Quay lại) │ ĐỔI MK    │
                                 │ THÀNH CÔNG│
                                 └───────────┘
```

---

## 6. Flowchart Xuất Báo Cáo CSV

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Chọn loại báo   │
│ cáo (1-4)       │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Nhập tên file   │
│ (không cần .csv)│
└────────┬────────┘
       ▼
┌─────────────────┐
│ Tạo thư mục     │
│ reports/ nếu    │
│ chưa có         │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Ghi header CSV  │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Duyệt ArrayList │
│ ghi từng dòng   │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Đóng file       │
└────────┬────────┘
       ▼
┌─────────────────┐
│ XUẤT THÀNH CÔNG │
│ reports/xxx.csv │
└─────────────────┘
```

---

## 7. Flowchart Tính Điểm Tổng

```
┌─────────────┐
│  BẮT ĐẦU    │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập điểm       │
│ giữa kỳ (GK)    │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / 0 <= GK <= 10? \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────────┐
│Báo lỗi │ │ Nhập điểm       │
│        │ │ cuối kỳ (CK)    │
└───┬────┘ └────────┬────────┘
    │               ▼
    ▼         ◇──────────────◇
(Quay lại)   / 0 <= CK <= 10? \
             ────────┬────────
                No   │   Yes
                ▼         ▼
           ┌────────┐ ┌───────────────┐
           │Báo lỗi │ │ Tính tổng:    │
           │        │ │ GK*0.4 + CK*0.6│
           └───┬────┘ └───────┬───────┘
               │              ▼
               ▼        ┌─────────────┐
           (Quay lại)   │ LƯU ĐIỂM    │
                        └─────────────┘
```

---

## Chú Thích Ký Hiệu

| Ký hiệu | Ý nghĩa |
|---------|---------|
| ┌───┐ (Hình chữ nhật bo góc) | Bắt đầu / Kết thúc |
| ┌───┐ (Hình chữ nhật) | Xử lý / Thao tác |
| ◇───◇ (Hình thoi) | Điều kiện rẽ nhánh |
| ▼ → | Hướng đi tiếp theo |

---

## 8. Flowchart Quản Lý Sinh Viên

```
┌─────────────┐
│  MENU QUẢN  │
│  LÝ SINH VIÊN│
└──────┬──────┘
       ▼
┌─────────────────┐
│ Hiển thị menu:  │
│ 1.Thêm 2.Sửa    │
│ 3.Xóa 4.Tìm     │
│ 5.Hiển thị      │
│ 0.Quay lại      │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Chọn option?   \
 ────────┬────────
    1    2    3    4    5    0
    ▼    ▼    ▼    ▼    ▼    ▼
  ┌───┐┌───┐┌───┐┌───┐┌───┐ EXIT
  │ADD││UPD││DEL││SEA││DIS│
  └─┬─┘└─┬─┘└─┬─┘└─┬─┘└─┬─┘

    │    │    │    │    │
    ▼    ▼    ▼    ▼    ▼
┌──────────────────────────────┐
│  Nhập dữ liệu theo yêu cầu   │
│  - ID, Tên, Ngày sinh        │
│  - Giới tính, Email, SĐT     │
│  - Mã lớp                    │
└──────────────┬───────────────┘
               ▼
         ◇──────────◇
        / Validate   \
       /  dữ liệu?    \
       ────────┬──────
          No   │  Yes
          ▼         ▼
      ┌────────┐ ┌─────────────┐
      │ Báo lỗi│ │ Thực hiện   │
      │ cụ thể │ │ thao tác    │
      └───┬────┘ └──────┬──────┘
          │             ▼
          ▼       ┌─────────────┐
      (Nhập lại)  │ THÀNH CÔNG  │
                  └──────┬──────┘
                         ▼
                   (Quay lại menu)
```

---

## 9. Flowchart Quản Lý Giảng Viên

```
┌─────────────┐
│  MENU QUẢN  │
│  LÝ GIẢNG VIÊN│
└──────┬──────┘
       ▼
┌─────────────────┐
│ 1. Thêm GV      │
│ 2. Sửa GV       │
│ 3. Xóa GV       │
│ 4. Tìm kiếm     │
│ 5. Hiển thị DS  │
│ 0. Quay lại     │
└────────┬────────┘
       ▼
  ◇──────────────◇
 /    Option?     \
 ────────┬────────
      1-5│    0
         ▼    ▼
   ┌───────────┐ EXIT
   │ Nhập dữ   │
   │ liệu GV:  │
   │ - ID      │
   │ - Tên     │
   │ - Khoa    │
   │ - Email   │
   │ - SĐT     │
   └─────┬─────┘
         ▼
   ┌───────────┐
   │ Xử lý     │
   │ theo option│
   └─────┬─────┘
         ▼
   ┌───────────┐
   │ Thông báo │
   │ kết quả   │
   └───────────┘
```

---

## 10. Flowchart Quản Lý Môn Học

```
┌─────────────┐
│  MENU QUẢN  │
│  LÝ MÔN HỌC │
└──────┬──────┘
       ▼
┌─────────────────┐
│ 1. Thêm môn     │
│ 2. Sửa môn      │
│ 3. Xóa môn      │
│ 4. Tìm kiếm     │
│ 5. Hiển thị     │
│ 0. Quay lại     │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Nhập thông tin: │
│ - Mã môn        │
│ - Tên môn       │
│ - Số tín chỉ    │
│ - Học kỳ        │
│ - Mã GV         │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Tín chỉ 1-10?  \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────┐
│Báo lỗi │ │ Thực hiện   │
│tín chỉ │ │ CRUD        │
└───┬────┘ └──────┬──────┘
    │             ▼
    ▼       ┌─────────────┐
(Nhập lại)  │ HOÀN THÀNH  │
            └─────────────┘
```

---

## 11. Flowchart Quản Lý Lớp Học

```
┌─────────────┐
│  MENU QUẢN  │
│  LÝ LỚP HỌC │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập thông tin: │
│ - Mã lớp        │
│ - Tên lớp       │
│ - Mã GV chủ nhiệm│
│ - Mã môn chính  │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Thực hiện CRUD  │
└────────┬────────┘
       ▼
┌─────────────────┐
│ Hiển thị kết quả│
└─────────────────┘
```

---

## 12. Flowchart Quản Lý Đăng Ký Môn

```
┌─────────────┐
│  MENU ĐĂNG  │
│  KÝ MÔN HỌC │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập thông tin: │
│ - Mã đăng ký    │
│ - Mã sinh viên  │
│ - Mã môn học    │
│ - Học kỳ        │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / SV tồn tại?    \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐  ◇────────────◇
│Báo lỗi │ / Môn tồn tại? \
│SV      │ ────────┬──────
└───┬────┘    No   │  Yes
    │         ▼         ▼
    ▼     ┌────────┐ ┌─────────┐
(Quay lại)│Báo lỗi │ │ Tạo     │
          │môn     │ │ đăng ký │
          └───┬────┘ └────┬────┘
              │           ▼
              ▼     ┌─────────┐
          (Quay lại)│ THÀNH   │
                    │ CÔNG    │
                    └─────────┘
```

---

## 13. Flowchart Quản Lý Điểm Danh

```
┌─────────────┐
│  MENU ĐIỂM  │
│    DANH     │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập thông tin: │
│ - Mã điểm danh  │
│ - Mã sinh viên  │
│ - Mã lớp        │
│ - Ngày          │
│ - Trạng thái    │
└────────┬────────┘
       ▼
  ◇──────────────────◇
 / Trạng thái hợp lệ? \
/  (Co mat/Vang/Co phep)\
 ────────┬────────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────┐
│Báo lỗi │ │Lưu điểm danh│
│trạng   │ └──────┬──────┘
│thái    │        ▼
└───┬────┘ ┌─────────────┐
    │      │ THÀNH CÔNG  │
    ▼      └─────────────┘
(Nhập lại)
```

---

## 14. Flowchart Quản Lý Khoa

```
┌─────────────┐
│  MENU QUẢN  │
│   LÝ KHOA   │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập thông tin: │
│ - Mã khoa       │
│ - Tên khoa      │
│ - Số GV         │
└────────┬────────┘
       ▼
  ◇──────────────◇
 / Số GV >= 0?    \
 ────────┬────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────┐
│Báo lỗi │ │ Thực hiện   │
│        │ │ CRUD        │
└───┬────┘ └──────┬──────┘
    │             ▼
    ▼       ┌─────────────┐
(Nhập lại)  │ HOÀN THÀNH  │
            └─────────────┘
```

---

## 15. Flowchart Quản Lý Học Kỳ

```
┌─────────────┐
│  MENU QUẢN  │
│  LÝ HỌC KỲ  │
└──────┬──────┘
       ▼
┌─────────────────┐
│ Nhập thông tin: │
│ - Mã học kỳ     │
│ - Tên học kỳ    │
│ - Ngày bắt đầu  │
│ - Ngày kết thúc │
└────────┬────────┘
       ▼
  ◇──────────────────◇
 / Ngày hợp lệ?       \
/  (bắt đầu < kết thúc)\
 ────────┬────────────
    No   │   Yes
    ▼         ▼
┌────────┐ ┌─────────────┐
│Báo lỗi │ │ Thực hiện   │
│ngày    │ │ CRUD        │
└───┬────┘ └──────┬──────┘
    │             ▼
    ▼       ┌─────────────┐
(Nhập lại)  │ HOÀN THÀNH  │
            └─────────────┘
```

---

## 16. Flowchart Thống Kê

```
┌─────────────┐
│  MENU THỐNG │
│     KÊ      │
└──────┬──────┘
       ▼
┌─────────────────┐
│ 1. TK SV theo   │
│    lớp          │
│ 2. TK điểm số   │
│ 3. TK điểm danh │
│ 0. Quay lại     │
└────────┬────────┘
       ▼
  ◇──────────────◇
 /    Option?     \
 ────────┬────────
    1    │    2    │    3
    ▼         ▼         ▼
┌──────────┐┌──────────┐┌──────────┐
│Đếm SV    ││Tính TB   ││Tính tỷ lệ│
│theo từng ││điểm, tìm ││chuyên cần│
│lớp       ││max/min   ││          │
└────┬─────┘└────┬─────┘└────┬─────┘
     │           │           │
     ▼           ▼           ▼
┌──────────┐┌──────────┐┌──────────┐
│Hiển thị  ││Phân loại ││Hiển thị  │
│bảng đếm  ││học lực   ││% có mặt  │
└────┬─────┘└────┬─────┘└────┬─────┘
     │           │           │
     └─────┬─────┴─────┬─────┘
           ▼
     ┌───────────┐
     │ IN THỐNG  │
     │ KÊ RA MÀN │
     │ HÌNH      │
     └───────────┘
```

---

## 17. Flowchart Lưu/Đọc File

```
┌─────────────────────────────────────────┐
│              SAVE TO FILE               │
└────────────────────┬────────────────────┘
                     ▼
           ┌─────────────────┐
           │ Mở BufferedWriter│
           │ với FILE_NAME   │
           └────────┬────────┘
                    ▼
           ┌─────────────────┐
           │ for each item   │
           │ in ArrayList    │
           └────────┬────────┘
                    ▼
           ┌─────────────────┐
           │ Ghi: field1,    │
           │ field2,...      │
           │ (CSV format)    │
           └────────┬────────┘
                    ▼
           ┌─────────────────┐
           │ Đóng writer     │
           └────────┬────────┘
                    ▼
           ┌─────────────────┐
           │ "Đã lưu file"   │
           └─────────────────┘

┌─────────────────────────────────────────┐
│             LOAD FROM FILE              │
└────────────────────┬────────────────────┘
                     ▼
           ┌─────────────────┐
           │ Mở BufferedReader│
           │ với FILE_NAME   │
           └────────┬────────┘
                    ▼
              ◇──────────◇
             / File tồn   \
            /   tại?       \
            ────────┬──────
               No   │  Yes
               ▼         ▼
         ┌─────────┐ ┌─────────────┐
         │ Bỏ qua  │ │ while có    │
         │         │ │ dòng mới    │
         └─────────┘ └──────┬──────┘
                            ▼
                     ┌─────────────┐
                     │ Split by "," │
                     │ Tạo object   │
                     │ Add to list  │
                     └──────┬──────┘
                            ▼
                     ┌─────────────┐
                     │ Đóng reader │
                     └──────┬──────┘
                            ▼
                     ┌─────────────┐
                     │ "Đã tải     │
                     │  dữ liệu"   │
                     └─────────────┘
```

---

## Tổng Kết

Hệ thống có **17 Flowcharts** mô tả các chức năng chính:

| # | Flowchart | Mô tả |
|---|-----------|-------|
| 1 | Tổng quan | Luồng chính của chương trình |
| 2 | Đăng nhập | Xác thực người dùng |
| 3 | Đăng ký | Tạo tài khoản mới |
| 4 | CRUD chung | Thêm/Sửa/Xóa |
| 5 | Đổi mật khẩu | Thay đổi mật khẩu |
| 6 | Xuất CSV | Tạo báo cáo |
| 7 | Tính điểm | Công thức tính tổng |
| 8 | Quản lý SV | CRUD sinh viên |
| 9 | Quản lý GV | CRUD giảng viên |
| 10 | Quản lý môn | CRUD môn học |
| 11 | Quản lý lớp | CRUD lớp học |
| 12 | Đăng ký môn | CRUD enrollment |
| 13 | Điểm danh | CRUD attendance |
| 14 | Quản lý khoa | CRUD department |
| 15 | Quản lý học kỳ | CRUD semester |
| 16 | Thống kê | Báo cáo thống kê |
| 17 | Lưu/Đọc file | Persistence |

